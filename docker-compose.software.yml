---
# Docker Compose for Software Rendering (no GPU required)
# Use with: docker compose -f docker-compose.software.yml up -d
version: "2.1"
services:
  prusaslicer-novnc:
    image: ghcr.io/riddix/prusaslicer-novnc-main:latest
    container_name: prusaslicer-novnc
    environment:
      - SSL_CERT_FILE=/etc/ssl/certs/ca-certificates.crt
      - DISPLAY=:0
      - SUPD_LOGLEVEL=INFO
      - ENABLEHWGPU=false
      - VNC_RESOLUTION=1920x1080
      # Auto-update settings
      - AUTO_UPDATE=true
      - ENABLE_PERIODIC_UPDATES=false
      - UPDATE_CHECK_INTERVAL=86400
    volumes:
      - ./prints:/prints/
      - ./data:/configs/
    ports:
      - "8080:8080"
      - "5900:5900"
    restart: unless-stopped
